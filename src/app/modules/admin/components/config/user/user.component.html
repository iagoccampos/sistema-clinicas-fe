<h3>{{ textProvider.users.title }}</h3>
<button mat-flat-button color="primary" (click)="addUser()">{{ textProvider.buttons.add }}</button>

<h3>{{ textProvider.users.registeredUsers }}</h3>

<app-center-spinner [loading$]="loading$" [hideTarget]="target" />

<div class="row" #target>
	<div class="mat-elevation-z8 col-xl-6 col-lg-8 col-md-10">
		<table mat-table [dataSource]="users$">
			<ng-container matColumnDef="name">
				<th mat-header-cell *matHeaderCellDef>{{ textProvider.users.name }}</th>
				<td mat-cell *matCellDef="let user"> {{ user.name }} </td>
			</ng-container>

			<ng-container matColumnDef="username">
				<th mat-header-cell *matHeaderCellDef>{{ textProvider.users.user }}</th>
				<td mat-cell *matCellDef="let user">{{ user.username }}</td>
			</ng-container>

			<ng-container matColumnDef="options">
				<th mat-header-cell *matHeaderCellDef>{{ textProvider.users.actions }}</th>
				<td mat-cell *matCellDef="let user">
					<button mat-icon-button type="button" color="accent" (click)="updateUser(user)">
						<mat-icon>edit</mat-icon>
					</button>
					<button mat-icon-button type="button" color="accent" (click)="updatePassword(user)">
						<mat-icon>password</mat-icon>
					</button>
					<button mat-icon-button type="button" color="warn" (click)="deleteUser(user)">
						<mat-icon>delete</mat-icon>
					</button>
				</td>
			</ng-container>

			<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
			<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
			<tr class="mat-row" *matNoDataRow>
				<td class="mat-cell" [attr.colspan]="displayedColumns.length">
					{{ textProvider.users.noUserFound }}
				</td>
			</tr>
		</table>
	</div>
</div>

